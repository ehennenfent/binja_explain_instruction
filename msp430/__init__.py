instrs = {
    "ADC": [
        {
            "instr": "ADC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Add carry to destination",
        }
    ],
    "ADD": [
        {
            "instr": "ADD",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Add source to destination",
        }
    ],
    "ADDC": [
        {
            "instr": "ADDC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Add source and carry to destination",
        }
    ],
    "AND": [
        {
            "instr": "AND",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "AND source with destination",
        }
    ],
    "BIC": [
        {
            "instr": "BIC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Clear bits in destination",
        }
    ],
    "BIS": [
        {
            "instr": "BIS",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Set bits in destination",
        }
    ],
    "BIT": [
        {
            "instr": "BIT",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Test bits in destination",
        }
    ],
    "BR": [
        {
            "instr": "BR",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Branch to destination",
        }
    ],
    "CALL": [
        {
            "instr": "CALL",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Subroutine call to destination",
        }
    ],
    "CLR": [
        {
            "instr": "CLR",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Clear destination",
        }
    ],
    "CLRC": [
        {
            "instr": "CLRC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Clear carry flag",
        }
    ],
    "CLRN": [
        {
            "instr": "CLRN",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Clear negative flag",
        }
    ],
    "CLRZ": [
        {
            "instr": "CLRZ",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Clear zero flag",
        }
    ],
    "CMP": [
        {
            "instr": "CMP",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Compare source to destination",
        }
    ],
    "DADC": [
        {
            "instr": "DADC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Decimal add carry to destination",
        }
    ],
    "DADD": [
        {
            "instr": "DADD",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Decimal add source and carry to destination",
        }
    ],
    "DEC": [
        {
            "instr": "DEC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Decrement destination",
        }
    ],
    "DECD": [
        {
            "instr": "DECD",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Decrement destination twice",
        }
    ],
    "DINT": [
        {
            "instr": "DINT",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Disable (general) interrupts",
        }
    ],
    "EINT": [
        {
            "instr": "EINT",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Enable (general) interrupts",
        }
    ],
    "INC": [
        {
            "instr": "INC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Increment destination",
        }
    ],
    "INCD": [
        {
            "instr": "INCD",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Increment destination twice",
        }
    ],
    "INV": [
        {
            "instr": "INV",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Invert bits in destination",
        }
    ],
    "JC": [
        {
            "instr": "JC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if carry flag is set",
        }
    ],
    "JEQ": [
        {
            "instr": "JEQ",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if zero flag is set",
        }
    ],
    "JGE": [
        {
            "instr": "JGE",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if greater than or equal",
        }
    ],
    "JL": [
        {
            "instr": "JL",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if less than",
        }
    ],
    "JMP": [
        {
            "instr": "JMP",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label unconditionally",
        }
    ],
    "JN": [
        {
            "instr": "JN",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if negative flag is set",
        }
    ],
    "JNC": [
        {
            "instr": "JNC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if carry flag is reset",
        }
    ],
    "JNE": [
        {
            "instr": "JNE",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if zero flag is reset",
        }
    ],
    "JNZ": [
        {
            "instr": "JNZ",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if zero flag is reset",
        }
    ],
    "JZ": [
        {
            "instr": "JZ",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Jump to label if zero flag is set",
        }
    ],
    "MOV": [
        {
            "instr": "MOV",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Move source to destination",
        }
    ],
    "NOP": [
        {
            "instr": "NOP",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "No operation",
        }
    ],
    "POP": [
        {
            "instr": "POP",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Pop byte/word from stack to destination",
        }
    ],
    "PUSH": [
        {
            "instr": "PUSH",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Push source to stack",
        }
    ],
    "RET": [
        {
            "instr": "RET",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Return from subroutine",
        }
    ],
    "RETI": [
        {
            "instr": "RETI",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Return from interrupt",
        }
    ],
    "RLA": [
        {
            "instr": "RLA",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Rotate left arithmetically",
        }
    ],
    "RLC": [
        {
            "instr": "RLC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Rotate left through carry",
        }
    ],
    "RRA": [
        {
            "instr": "RRA",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Roll destination right",
        }
    ],
    "RRC": [
        {
            "instr": "RRC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Roll destination right through (from) carry",
        }
    ],
    "SBC": [
        {
            "instr": "SBC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Subtract source and borrow",
        }
    ],
    "SETC": [
        {
            "instr": "SETC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Set carry flag",
        }
    ],
    "SETN": [
        {
            "instr": "SETN",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Set negative flag",
        }
    ],
    "SETZ": [
        {
            "instr": "SETZ",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Set zero flag",
        }
    ],
    "SUB": [
        {
            "instr": "SUB",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Subtract source from destination",
        }
    ],
    "SUBC": [
        {
            "instr": "SUBC",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Subtract source and not carry from destination",
        }
    ],
    "SWPB": [
        {
            "instr": "SWPB",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Swap bytes in destination",
        }
    ],
    "SXT": [
        {
            "instr": "SXT",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Sign extend destination",
        }
    ],
    "TST": [
        {
            "instr": "TST",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "Test destination",
        }
    ],
    "XOR": [
        {
            "instr": "XOR",
            "link": "http://www.ti.com/lit/ug/slau208p/slau208p.pdf",
            "short": "XOR source with destination",
        }
    ],
}


def find_proper_name(instruction):
    out = str(instruction).strip().upper()
    return out


def get_doc_url(i):
    """ Takes in the instruction tokens and returns [(short form, doc url)] """
    names = map(find_proper_name, i)  # handles instruction prefixes
    output = []
    for name in names:
        if name in instrs.keys():
            inst_data = instrs[name][0]
            output.append((inst_data["short"], inst_data["link"]))
    if len(output) == 0:
        return [
            (
                "No documentation for that instruction!",
                "https://github.com/ehennenfent/binja_explain_instruction/blob/master/CONTRIBUTING.md",
            )
        ]
    return output
